## Relevant Items
**Agents**
- `e2e-runner.md` — Playwright E2E testing.
- `code-reviewer.md` — quality + maintainability review.
- `security-reviewer.md` — vulnerability analysis.
- `build-error-resolver.md` — triage/fix build failures.
- `tdd-guide.md` — test-driven implementation workflow.

**Skills**
- `tdd-workflow/` — RED/GREEN/IMPROVE + coverage expectation.
- `security-review/` — security checklist.
- `verification-loop/` — continuous verification.
- `eval-harness/` — evaluation loop for pass/fail criteria.
- `continuous-learning/` — extract patterns post-session.

**Commands**
- `/tdd`, `/e2e`, `/code-review`, `/verify`, `/test-coverage`, `/checkpoint`, `/eval`.

**Hooks**
- PostToolUse: Prettier format (JS/TS), TypeScript check after TS edits, console.log warnings.
- Stop: final console.log audit; session persistence + continuous-learning evaluation.
- PreToolUse: tmux reminders + dev server block, git push pause, doc creation block, strategic compact suggestions.
- SessionStart/PreCompact: memory persistence hooks.

## Recommended Adoption
### PR Smoke Gate (fast, per-PR)
**Adopt**
- **Agent:** `code-reviewer` + `security-reviewer` (parallel reviews).
- **Skills:** `security-review`, `verification-loop`.
- **Commands:** `/code-review`, `/verify`, `/test-coverage`.
- **Hooks:** PostToolUse TS check + Prettier + console.log warning; Stop hook console.log audit.

**Why**
- Aligns with research: parallel reviewer + evaluator loop improves QA and catches issues early (agentic SDLC, evaluator/optimizer). Fast smoke tests + AI review fits PR gate best practice.

**Suggested Smoke Gate Mapping**
- **Static:** TypeScript check after TS edits (existing hook).
- **Style:** Prettier auto-format (existing hook).
- **Quality:** `/code-review` + `/verify` with `verification-loop` skill.
- **Security:** `security-reviewer` + `security-review` skill.
- **Coverage:** `/test-coverage` (if repo supports it) to ensure minimal threshold.

### Nightly Gate (comprehensive)
**Adopt**
- **Agent:** `e2e-runner` + `build-error-resolver` (triage failures).
- **Skills:** `eval-harness` + `verification-loop` (broader checks).
- **Commands:** `/e2e`, `/eval`, `/verify`, `/checkpoint`.
- **Hooks:** Session persistence (SessionStart/Stop/PreCompact) + continuous-learning evaluation.

**Why**
- Nightly is the place for deeper E2E + eval harnesses; aligns with research: full regression + AI evaluator loops and observability-like summaries.

**Suggested Nightly Mapping**
- **E2E suite:** `e2e-runner` + `/e2e`.
- **Eval harness:** `/eval` using `eval-harness` skill to summarize pass/fail criteria.
- **Verification loop:** `/verify` across broader surface.
- **Failure triage:** `build-error-resolver` to summarize and suggest fixes.

## Adaptation Notes
- **PR Smoke** should stay lightweight: avoid full `/e2e` in smoke unless your suite is already fast.
- **Nightly** can run the full E2E + eval harness and use `checkpoint` for stateful runs.
- Use **parallel agents** (code-reviewer + security-reviewer) for the PR stage to align with multi-agent best practices.
- **Continuous-learning** hook can feed patterns back into skills, but consider gating adoption (see Risks).

## Risks/Dependencies
- **Toolchain dependencies:** Prettier/TypeScript checks require `prettier` + `tsc` in repo; ensure CI containers have them.
- **False positives:** console.log hooks might be noisy for debugging-heavy workflows.
- **Coverage enforcement:** `/test-coverage` assumes existing test runner config.
- **Nightly cost/time:** E2E and eval harness can be expensive; ensure timeouts and parallelization.
- **Session hooks:** memory persistence writes to `~/.claude/sessions` and may not be desirable in CI environments.

## Open Questions
1. Which tests should define “smoke” vs “nightly” in your stack (unit-only vs unit+lint+typecheck)?
2. Do you want PR smoke to **fail the PR** on AI review issues, or only annotate?
3. Is Playwright the E2E framework for all repos, or only some?
4. Should continuous-learning output be **auto-merged into skills**, or reviewed manually?